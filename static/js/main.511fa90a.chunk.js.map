{"version":3,"sources":["components/reducers/store.js","components/Header.js","components/pages/BreedsPage/SubBreedsList.js","components/pages/BreedsPage/BreedsList.js","components/assets/delay.js","components/pages/BreedsPage/ImageList.js","apis/axios.js","components/assets/useSafeSet.js","components/pages/BreedsPage/index.js","components/pages/RandomPage/index.js","components/App.js","components/reducers/isDelay.js","index.js"],"names":["ContextStore","React","createContext","isDelay","Header","useContext","dispatch","className","to","onClick","type","SubBreedsList","breed","setBreed","subBreedsList","useState","selectedItem","setSelectedItem","useEffect","map","subBreed","index","key","style","padding","marginLeft","cursor","BreedsList","breedsList","searchKey","renderedList","setRenderedList","activeIndex","setActiveIndex","newRenderList","Object","keys","filter","breedKey","toLowerCase","indexOf","reduce","obj","_","isEmpty","Accordion","Title","active","e","titleProps","onTitleClick","isShowIcon","display","visibility","iconStyle","Icon","name","renderContent","length","Content","delay","milisec","Promise","resolve","setTimeout","ImageList","imageSet","setImageSet","stoppable","setStoppable","ref","useRef","current","url","fetchImages","a","fetch","json","images","message","Array","isArray","imageUrl","getImageMetaAndSet","console","log","img","Image","addEventListener","concat","src","thumbnail","thumbnailWidth","naturalWidth","thumbnailHeight","naturalHeight","onClickStopButton","enableLightbox","enableImageSelection","margin","position","bottom","right","breedsRequest","axios","create","baseURL","useSafeSet","func","BreedsPage","search","setSearch","setBreedsList","safeSet","get","response","data","initialSet","height","placeholder","value","width","onChange","target","overflow","RandomImage","setUrl","alt","RandomPage","setImageUrl","randomUrl","then","result","catch","err","alert","getImage","image","App","path","exact","component","INITIAL_STATE","isDelayReducer","state","action","DogApi","useReducer","isDelayState","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.511fa90a.chunk.js","sourcesContent":["import React from 'react';\n\nconst ContextStore = React.createContext({\n    isDelay: false,\n});\n\nexport default ContextStore;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ContextStore from '../components/reducers/store';\n\nconst Header = () => {\n    const { isDelay, dispatch } = React.useContext(ContextStore);\n\n    const buttonClass = () => {\n        return isDelay === true ? 'ui button red' : 'ui button green';\n    };\n\n    const buttonContext = () => {\n        return isDelay === true ? 'Normal' : 'Delay';\n    };\n\n    return (\n        <div className=\"ui secondary pointing menu\">\n            <Link to=\"/\" className=\"item\">\n                Dog Api\n            </Link>\n            <button\n                className={buttonClass()}\n                onClick={() => {\n                    dispatch({ type: 'SWITCH_DELAY' });\n                }}\n            >\n                {buttonContext()}\n            </button>\n            <div className=\"right menu\">\n                <Link to=\"/\" className=\"item\">\n                    Breeds list\n                </Link>\n                <Link to=\"/random\" className=\"item\">\n                    Random image\n                </Link>\n            </div>\n        </div>\n    );\n};\n\nexport default Header;\n","import React, { useState, useEffect } from 'react';\n\nconst SubBreedsList = ({ breed, setBreed, subBreedsList }) => {\n    const [selectedItem, setSelectedItem] = useState(null);\n\n    useEffect(() => {\n        if (selectedItem) {\n            setBreed(`${breed}/${selectedItem}`);\n        }\n    }, [selectedItem, setBreed, breed]);\n\n    return subBreedsList.map((subBreed, index) => {\n        return (\n            <div\n                key={index}\n                style={{\n                    padding: '3px 0',\n                    marginLeft: '8%',\n                    cursor: 'pointer',\n                }}\n                onClick={() => setSelectedItem(subBreed)}\n            >\n                <i className=\"ui icon caret right\"></i>\n                {subBreed}\n            </div>\n        );\n    });\n};\n\nexport default SubBreedsList;\n","import React, { useState, useEffect } from 'react';\nimport _ from 'lodash';\nimport { Accordion, Icon } from 'semantic-ui-react';\n\nimport SubBreedsList from './SubBreedsList';\n\nconst BreedsList = ({ breedsList, searchKey, setBreed }) => {\n    const [renderedList, setRenderedList] = useState(breedsList);\n    const [selectedItem, setSelectedItem] = useState(null);\n    const [activeIndex, setActiveIndex] = useState();\n\n    useEffect(() => {\n        let newRenderList = Object.keys(breedsList)\n            .filter((breedKey) => {\n                return (\n                    breedKey.toLowerCase().indexOf(searchKey.toLowerCase()) > -1\n                );\n            })\n            .reduce((obj, key) => {\n                return { ...obj, [key]: breedsList[key] };\n            }, {});\n\n        setRenderedList(newRenderList);\n    }, [searchKey, breedsList]);\n\n    useEffect(() => {\n        if (selectedItem) {\n            setBreed(`${selectedItem}`);\n        }\n    }, [selectedItem, setBreed]);\n\n    const onTitleClick = (titleProps) => {\n        const { index } = titleProps;\n        const newIndex = activeIndex === index ? -1 : index;\n\n        setActiveIndex(newIndex);\n    };\n\n    const renderPlaceholder = () => {\n        return (\n            <div className=\"ui placeholder\">\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n            </div>\n        );\n    };\n\n    const renderContent = (breed, isShowIcon) => {\n        const iconStyle = (isShowIcon) => {\n            return isShowIcon ? {} : { visibility: 'hidden' };\n        };\n        return (\n            <div style={{ display: 'inline-flex' }}>\n                <div style={iconStyle(isShowIcon)}>\n                    <Icon name=\"dropdown\" />\n                </div>\n                <div>{breed}</div>\n            </div>\n        );\n    };\n\n    const renderBreedsList = () => {\n        return (\n            <Accordion>\n                {Object.keys(renderedList).map((breed, index) => {\n                    return (\n                        <div key={index}>\n                            <Accordion.Title\n                                active={activeIndex === index}\n                                index={index}\n                                onClick={(e, titleProps) => {\n                                    setSelectedItem(breed);\n                                    onTitleClick(titleProps);\n                                }}\n                                style={{ padding: '3px 0' }}\n                            >\n                                {renderContent(\n                                    breed,\n                                    renderedList[breed].length > 0\n                                )}\n                            </Accordion.Title>\n                            <Accordion.Content\n                                active={activeIndex === index}\n                                style={{ padding: '0px' }}\n                            >\n                                <SubBreedsList\n                                    breed={breed}\n                                    subBreedsList={renderedList[breed]}\n                                    setBreed={setBreed}\n                                />\n                            </Accordion.Content>\n                        </div>\n                    );\n                })}\n            </Accordion>\n        );\n    };\n\n    return _.isEmpty(renderedList) ? renderPlaceholder() : renderBreedsList();\n};\n\nexport default BreedsList;\n","export default function delay(milisec) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, milisec);\n    });\n}","import React, { useEffect, useState, useRef, useContext } from 'react';\nimport Gallery from 'react-grid-gallery';\n\nimport delay from '../../assets/delay';\nimport ContextStore from '../../reducers/store';\n\nconst ImageList = ({ breed }) => {\n    const [imageSet, setImageSet] = useState([]);\n    const [stoppable, setStoppable] = useState(true);\n    const ref = useRef(true);\n\n    const { isDelay } = useContext(ContextStore);\n\n    useEffect(() => {\n        return () => {\n            // console.log('did unmount');\n            ref.current = false;\n        };\n    }, []);\n\n    useEffect(() => {\n        let url = '';\n        const fetchImages = async (url) => {\n            if (isDelay) await delay(3000);\n\n            try {\n                let { message: images } = await (await fetch(url, {})).json();\n                let newImages = Array.isArray(images) ? images : [images];\n                newImages.map((imageUrl) => {\n                    getImageMetaAndSet(imageUrl);\n                    return imageUrl;\n                });\n            } catch (err) {\n                console.log(err);\n            }\n        };\n\n        switch (breed) {\n            case '':\n                break;\n            case 'RANDOM':\n                url = 'https://dog.ceo/api/breeds/image/random';\n                break;\n            default:\n                url = `https://dog.ceo/api/breed/${breed}/images`;\n                break;\n        }\n\n        fetchImages(url);\n    }, [breed, isDelay]);\n\n    const getImageMetaAndSet = (imageUrl) => {\n        let img = new Image();\n\n        img.addEventListener('load', () => {\n            if (ref.current) {\n                // console.log(ref.current);\n                setImageSet((imageSet) =>\n                    imageSet.concat({\n                        src: imageUrl,\n                        thumbnail: imageUrl,\n                        thumbnailWidth: img.naturalWidth,\n                        thumbnailHeight: img.naturalHeight,\n                    })\n                );\n            } else {\n                // console.log(\"i'm unmount\");\n            }\n        });\n\n        img.src = imageUrl;\n    };\n\n    const onClickStopButton = () => {\n        if (ref.current === true) {\n            ref.current = false;\n            setStoppable(false);\n        }\n    };\n\n    const renderPlaceholder = () => {\n        return (\n            <div className=\"ui grid\">\n                <div className=\"four column row\">\n                    <div className=\"column\">\n                        <div className=\"ui placeholder\">\n                            <div className=\" square image\"></div>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"ui placeholder\">\n                            <div className=\" square image\"></div>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"ui placeholder\">\n                            <div className=\" square image\"></div>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"ui placeholder\">\n                            <div className=\" square image\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    };\n\n    const stopButtonStyle = () => {\n        return stoppable === true\n            ? { position: 'absolute', bottom: '30px', right: '30px' }\n            : { display: 'none' };\n    };\n\n    const renderImageList = () => {\n        return (\n            <div className=\"gallery\">\n                <Gallery\n                    images={imageSet}\n                    enableLightbox={false}\n                    enableImageSelection={false}\n                    margin={4}\n                />\n                <button\n                    className=\"circular ui icon red huge button\"\n                    style={stopButtonStyle()}\n                    onClick={onClickStopButton}\n                >\n                    <i className=\"icon stop\"></i>\n                </button>\n            </div>\n        );\n    };\n    return imageSet.length === 0 ? renderPlaceholder() : renderImageList();\n};\n\nexport default ImageList;\n","import axios from 'axios';\n\nexport const breedsRequest = axios.create({\n    baseURL: 'https://dog.ceo/api/breeds/',\n});\n\nexport const breedRequest = axios.create({\n    baseURL: 'https://dog.ceo/api/breed/',\n});\n\nexport const randomImageRequest = axios.create({\n    baseURL: 'https://dog.ceo/api/breeds/image/random',\n});\n","import { useRef, useEffect } from 'react';\n\nexport default function useSafeSet() {\n    const ref = useRef(true);\n\n    useEffect(() => {\n        return () => (ref.current = false);\n    }, []);\n\n    const safeSetRef = useRef((func) => {\n        if (ref.current && func) {\n            func();\n        }\n    });\n\n    return safeSetRef.current;\n}\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport BreedsList from './BreedsList';\nimport ImageList from './ImageList';\nimport { breedsRequest } from '../../../apis/axios';\nimport delay from '../../assets/delay';\nimport useSafeSet from '../../assets/useSafeSet';\nimport ContextStore from '../../reducers/store';\n\nconst BreedsPage = () => {\n    const [search, setSearch] = useState('');\n    const [breed, setBreed] = useState('');\n    const [breedsList, setBreedsList] = useState({});\n    const safeSet = useSafeSet();\n\n    const { isDelay } = useContext(ContextStore);\n\n    useEffect(() => {\n        async function initialSet() {\n            if (isDelay) await delay(3000);\n            const response = await breedsRequest.get('/list/all');\n            safeSet(() => {\n                setBreedsList(response.data.message);\n                setBreed('RANDOM');\n            });\n        }\n\n        initialSet();\n\n        return () => {\n            setBreedsList({});\n            setBreed('');\n        };\n    }, [isDelay, safeSet]);\n\n    return (\n        <div className=\"ui equal height grid\" style={{ height: 'inherit' }}>\n            <div className=\"four wide column\" style={{ height: 'inherit' }}>\n                <div className=\"ui search\" style={{ height: '10%' }}>\n                    <input\n                        className=\"prompt\"\n                        type=\"text\"\n                        placeholder=\"Search...\"\n                        value={search}\n                        style={{ width: '95%' }}\n                        onChange={(e) => {\n                            setSearch(e.target.value);\n                            // console.log(e.target.value);\n                        }}\n                    />\n                </div>\n                <div\n                    style={{\n                        height: '90%',\n                        overflow: 'auto',\n                    }}\n                >\n                    <BreedsList\n                        breedsList={breedsList}\n                        searchKey={search}\n                        setBreed={setBreed}\n                    />\n                </div>\n            </div>\n            <div className=\"twelve wide column\" style={{ height: 'inherit' }}>\n                <div style={{ overflow: 'auto', height: '100%' }}>\n                    <ImageList key={breed} breed={breed} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default BreedsPage;\n","import React, { useState, useEffect, useRef, useContext } from 'react';\n\nimport useSafeSet from '../../assets/useSafeSet';\nimport delay from '../../assets/delay'\nimport ContextStore from '../../reducers/store';\n\nconst RandomPage = () => {\n    const [imageUrl, setImageUrl] = useState('');\n    const { isDelay } = useContext(ContextStore);\n    const safeSet = useSafeSet();\n    const randomUrl = 'https://dog.ceo/api/breeds/image/random';\n\n    useEffect(() => {\n        fetch(randomUrl, {})\n            .then((response) => response.json())\n            .then((result) => {\n                safeSet(() => setImageUrl(result.message));\n            })\n            .catch((err) => alert(err));\n    }, [safeSet]);\n\n    const getImage = async () => {\n        try {\n            safeSet(() => setImageUrl(''));\n            if (isDelay) await delay(3000);\n            const { message: image } = await (\n                await fetch(randomUrl, {})\n            ).json();\n            safeSet(() => setImageUrl(image));\n        } catch (err) {\n            alert(err);\n        }\n    };\n\n    const renderPlaceholder = () => {\n        return (\n            <div className=\"ui placeholder\" style={{ margin: '0 auto' }}>\n                <div className=\"rectangular image\"></div>\n            </div>\n        );\n    };\n\n    const renderImage = () => {\n        return imageUrl === '' ? (\n            renderPlaceholder()\n        ) : (\n            <RandomImage imageUrl={imageUrl} />\n        );\n    };\n\n    return (\n        <div>\n            <h1 className=\"ui header\">Get Random Image</h1>\n            <button className=\"ui orange button\" onClick={getImage}>\n                Get Image\n            </button>\n            {renderImage()}\n        </div>\n    );\n};\n\nconst RandomImage = ({ imageUrl }) => {\n    const [url, setUrl] = useState(null);\n    const ref = useRef(true);\n\n    useEffect(() => {\n        if (ref.current) {\n            setUrl(imageUrl);\n        }\n        return () => {\n            // did update\n            ref.current = false;\n        };\n    }, [imageUrl]);\n\n    return (\n        <div>\n            <img\n                className=\"ui medium centered rounded image\"\n                src={url}\n                alt={url}\n            />\n        </div>\n    );\n};\n\nexport default RandomPage;\n","import React from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nimport Header from './Header';\nimport BreedsPage from './pages/BreedsPage';\nimport RandomPage from './pages/RandomPage';\n\nconst App = () => {\n    return (\n        <div className=\"ui container\">\n            <BrowserRouter>\n                <div>\n                    <div className=\"header\" style={{ height: '10vh' }}>\n                        <Header />\n                    </div>\n                    <div className=\"content\" style={{ height: '90vh' }}>\n                        <Route path=\"/\" exact component={BreedsPage} />\n                        <Route path=\"/random\" exact component={RandomPage} />\n                    </div>\n                </div>\n            </BrowserRouter>\n        </div>\n    );\n};\n\nexport default App;\n","export const INITIAL_STATE = {\n    isDelay: false,\n};\n\nexport const isDelayReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case 'SWITCH_DELAY':\n            return { ...state, isDelay: !state.isDelay}\n        default:\n            return state;\n    }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport { INITIAL_STATE, isDelayReducer } from './components/reducers/isDelay';\nimport ContextStore from './components/reducers/store';\n\nconst DogApi = () => {\n    const [isDelayState, dispatch] = React.useReducer(isDelayReducer, INITIAL_STATE);\n    return (\n        <ContextStore.Provider\n            value={{\n                isDelay: isDelayState.isDelay,\n                dispatch: dispatch,\n            }}\n        >\n            <App />\n        </ContextStore.Provider>\n    );\n};\n\nReactDOM.render(<DogApi />, document.getElementById('root'));\n"],"sourceRoot":""}