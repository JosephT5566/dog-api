{"version":3,"sources":["components/contexts/delayContext.jsx","components/Header.js","components/pages/BreedsPage/SubBreedsList.js","components/pages/BreedsPage/BreedsList.js","components/assets/delay.js","components/pages/BreedsPage/ImageList.js","apis/axios.js","components/pages/BreedsPage/index.js","components/assets/useSafeSet.js","components/pages/RandomPage/index.js","components/App.js","index.js"],"names":["delayContext","React","createContext","Header","useContext","delayState","setDelayState","className","to","onClick","SubBreedsList","breed","setBreed","subBreedsList","useState","selectedItem","setSelectedItem","useEffect","map","subBreed","index","key","style","padding","marginLeft","cursor","BreedsList","breedsList","searchKey","renderedList","setRenderedList","activeIndex","setActiveIndex","newRenderList","Object","keys","filter","breedKey","toLowerCase","indexOf","reduce","obj","_","isEmpty","Accordion","Title","active","e","titleProps","onTitleClick","isShowIcon","display","visibility","iconStyle","Icon","name","renderContent","length","Content","delay","milisec","Promise","resolve","setTimeout","ImageList","imageSet","setImageSet","stoppable","setStoppable","ref","useRef","current","url","fetchImages","a","fetch","json","images","message","Array","isArray","imageUrl","getImageMetaAndSet","console","log","img","Image","addEventListener","concat","src","thumbnail","thumbnailWidth","naturalWidth","thumbnailHeight","naturalHeight","onClickStopButton","enableLightbox","enableImageSelection","margin","position","bottom","right","breedsRequest","axios","create","baseURL","BreedsPage","search","setSearch","setBreedsList","safeSet","func","useSafeSet","get","response","data","initialSet","height","type","placeholder","value","width","onChange","target","overflow","ImageCard","alt","RandomPage","setImageUrl","status","setStatus","randomUrl","image","alert","initGetImage","onGetImage","App","path","exact","component","DelayProvider","Provider","DogApi","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cf05f79f.chunk.js","sourcesContent":["import React from 'react';\n\nconst delayContext = React.createContext();\n\nconst INITIAL_DELAY_STATE = false;\n\n// const delayReducer = (state = INITIAL_DELAY_STATE, action) => {\n//     switch (action.type) {\n//         case 'SWITCH_DELAY':\n//             return { ...state, isDelay: !state.isDelay };\n//         default:\n//             return state;\n//     }\n// };\n\nexport { INITIAL_DELAY_STATE };\nexport default delayContext;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport delayContext from '../components/contexts/delayContext';\n\nconst Header = () => {\n    const { delayState, setDelayState } = React.useContext(delayContext);\n\n    const buttonClass = () => {\n        return delayState === true ? 'ui button red' : 'ui button green';\n    };\n\n    const buttonContext = () => {\n        return delayState === true ? 'Normal' : 'Delay';\n    };\n\n    return (\n        <div className=\"ui secondary pointing menu\">\n            <Link to=\"/dog-api/list\" className=\"item\">\n                Dog Api\n            </Link>\n            <button\n                className={buttonClass()}\n                onClick={() => {\n                    setDelayState(!delayState);\n                }}\n            >\n                {buttonContext()}\n            </button>\n            <div className=\"right menu\">\n                <Link to=\"/dog-api/list\" className=\"item\">\n                    Breeds list\n                </Link>\n                <Link to=\"/dog-api/random\" className=\"item\">\n                    Random image\n                </Link>\n            </div>\n        </div>\n    );\n};\n\nexport default Header;\n","import React, { useState, useEffect } from 'react';\n\nconst SubBreedsList = ({ breed, setBreed, subBreedsList }) => {\n    const [selectedItem, setSelectedItem] = useState(null);\n\n    useEffect(() => {\n        if (selectedItem) {\n            setBreed(`${breed}/${selectedItem}`);\n        }\n    }, [selectedItem, setBreed, breed]);\n\n    return subBreedsList.map((subBreed, index) => {\n        return (\n            <div\n                key={index}\n                style={{\n                    padding: '3px 0',\n                    marginLeft: '8%',\n                    cursor: 'pointer',\n                }}\n                onClick={() => setSelectedItem(subBreed)}\n            >\n                <i className=\"ui icon caret right\"></i>\n                {subBreed}\n            </div>\n        );\n    });\n};\n\nexport default SubBreedsList;\n","import React, { useState, useEffect } from 'react';\nimport _ from 'lodash';\nimport { Accordion, Icon } from 'semantic-ui-react';\n\nimport SubBreedsList from './SubBreedsList';\n\nconst BreedsList = ({ breedsList, searchKey, setBreed }) => {\n    const [renderedList, setRenderedList] = useState(breedsList);\n    const [selectedItem, setSelectedItem] = useState(null);\n    const [activeIndex, setActiveIndex] = useState();\n\n    useEffect(() => {\n        let newRenderList = Object.keys(breedsList)\n            .filter((breedKey) => {\n                return (\n                    breedKey.toLowerCase().indexOf(searchKey.toLowerCase()) > -1\n                );\n            })\n            .reduce((obj, key) => {\n                return { ...obj, [key]: breedsList[key] };\n            }, {});\n\n        setRenderedList(newRenderList);\n    }, [searchKey, breedsList]);\n\n    useEffect(() => {\n        if (selectedItem) {\n            setBreed(`${selectedItem}`);\n        }\n    }, [selectedItem, setBreed]);\n\n    const onTitleClick = (titleProps) => {\n        const { index } = titleProps;\n        const newIndex = activeIndex === index ? -1 : index;\n\n        setActiveIndex(newIndex);\n    };\n\n    const renderPlaceholder = () => {\n        return (\n            <div className=\"ui placeholder\">\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n                <div className=\"very long line\"></div>\n            </div>\n        );\n    };\n\n    const renderContent = (breed, isShowIcon) => {\n        const iconStyle = (isShowIcon) => {\n            return isShowIcon ? {} : { visibility: 'hidden' };\n        };\n        return (\n            <div style={{ display: 'inline-flex' }}>\n                <div style={iconStyle(isShowIcon)}>\n                    <Icon name=\"dropdown\" />\n                </div>\n                <div>{breed}</div>\n            </div>\n        );\n    };\n\n    const renderBreedsList = () => {\n        return (\n            <Accordion>\n                {Object.keys(renderedList).map((breed, index) => {\n                    return (\n                        <div key={index}>\n                            <Accordion.Title\n                                active={activeIndex === index}\n                                index={index}\n                                onClick={(e, titleProps) => {\n                                    setSelectedItem(breed);\n                                    onTitleClick(titleProps);\n                                }}\n                                style={{ padding: '3px 0' }}\n                            >\n                                {renderContent(\n                                    breed,\n                                    renderedList[breed].length > 0\n                                )}\n                            </Accordion.Title>\n                            <Accordion.Content\n                                active={activeIndex === index}\n                                style={{ padding: '0px' }}\n                            >\n                                <SubBreedsList\n                                    breed={breed}\n                                    subBreedsList={renderedList[breed]}\n                                    setBreed={setBreed}\n                                />\n                            </Accordion.Content>\n                        </div>\n                    );\n                })}\n            </Accordion>\n        );\n    };\n\n    return _.isEmpty(renderedList) ? renderPlaceholder() : renderBreedsList();\n};\n\nexport default BreedsList;\n","export default function delay(milisec) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, milisec);\n    });\n}","import React, { useEffect, useState, useRef, useContext } from 'react';\nimport Gallery from 'react-grid-gallery';\n\nimport delay from '../../assets/delay';\nimport delayContext from '../../contexts/delayContext';\n\nconst ImageList = ({ breed }) => {\n    const [imageSet, setImageSet] = useState([]);\n    const [stoppable, setStoppable] = useState(true);\n    const ref = useRef(true);\n\n    const { delayState } = useContext(delayContext);\n\n    useEffect(() => {\n        return () => {\n            // console.log('did unmount');\n            ref.current = false;\n        };\n    }, []);\n\n    useEffect(() => {\n        let url = '';\n        const fetchImages = async (url) => {\n            if (delayState) await delay(3000);\n\n            try {\n                let { message: images } = await (await fetch(url, {})).json();\n                let newImages = Array.isArray(images) ? images : [images];\n                newImages.map((imageUrl) => {\n                    getImageMetaAndSet(imageUrl);\n                    return imageUrl;\n                });\n            } catch (err) {\n                console.log(err);\n            }\n        };\n\n        switch (breed) {\n            case '':\n                break;\n            case 'RANDOM':\n                url = 'https://dog.ceo/api/breeds/image/random';\n                break;\n            default:\n                url = `https://dog.ceo/api/breed/${breed}/images`;\n                break;\n        }\n\n        fetchImages(url);\n    }, [breed, delayState]);\n\n    const getImageMetaAndSet = (imageUrl) => {\n        let img = new Image();\n\n        img.addEventListener('load', () => {\n            if (ref.current) {\n                // console.log(ref.current);\n                setImageSet((imageSet) =>\n                    imageSet.concat({\n                        src: imageUrl,\n                        thumbnail: imageUrl,\n                        thumbnailWidth: img.naturalWidth,\n                        thumbnailHeight: img.naturalHeight,\n                    })\n                );\n            } else {\n                // console.log(\"i'm unmount\");\n            }\n        });\n\n        img.src = imageUrl;\n    };\n\n    const onClickStopButton = () => {\n        if (ref.current === true) {\n            ref.current = false;\n            setStoppable(false);\n        }\n    };\n\n    const renderPlaceholder = () => {\n        return (\n            <div className=\"ui grid\">\n                <div className=\"four column row\">\n                    <div className=\"column\">\n                        <div className=\"ui placeholder\">\n                            <div className=\" square image\"></div>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"ui placeholder\">\n                            <div className=\" square image\"></div>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"ui placeholder\">\n                            <div className=\" square image\"></div>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"ui placeholder\">\n                            <div className=\" square image\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    };\n\n    const stopButtonStyle = () => {\n        return stoppable === true\n            ? { position: 'absolute', bottom: '30px', right: '30px' }\n            : { display: 'none' };\n    };\n\n    const renderImageList = () => {\n        return (\n            <div className=\"gallery\">\n                <Gallery\n                    images={imageSet}\n                    enableLightbox={false}\n                    enableImageSelection={false}\n                    margin={4}\n                />\n                <button\n                    className=\"circular ui icon red huge button\"\n                    style={stopButtonStyle()}\n                    onClick={onClickStopButton}\n                >\n                    <i className=\"icon stop\"></i>\n                </button>\n            </div>\n        );\n    };\n    return imageSet.length === 0 ? renderPlaceholder() : renderImageList();\n};\n\nexport default ImageList;\n","import axios from 'axios';\n\nexport const breedsRequest = axios.create({\n    baseURL: 'https://dog.ceo/api/breeds/',\n});\n\nexport const breedRequest = axios.create({\n    baseURL: 'https://dog.ceo/api/breed/',\n});\n\nexport const randomImageRequest = axios.create({\n    baseURL: 'https://dog.ceo/api/breeds/image/random',\n});\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport BreedsList from './BreedsList';\nimport ImageList from './ImageList';\nimport { breedsRequest } from '../../../apis/axios';\nimport delay from '../../assets/delay';\nimport useSafeSet from '../../assets/useSafeSet';\nimport delayContext from '../../contexts/delayContext';\n\nconst BreedsPage = () => {\n    const [search, setSearch] = useState('');\n    const [breed, setBreed] = useState('');\n    const [breedsList, setBreedsList] = useState({});\n    const safeSet = useSafeSet();\n\n    const { delayState } = useContext(delayContext);\n\n    useEffect(() => {\n        async function initialSet() {\n            if (delayState) await delay(3000);\n            const response = await breedsRequest.get('/list/all');\n            safeSet(() => {\n                setBreedsList(response.data.message);\n                setBreed('RANDOM');\n            });\n        }\n\n        initialSet();\n\n        return () => {\n            setBreedsList({});\n            setBreed('');\n        };\n    }, [delayState, safeSet]);\n\n    return (\n        <div className=\"ui equal height grid\" style={{ height: 'inherit' }}>\n            <div className=\"four wide column\" style={{ height: 'inherit' }}>\n                <div className=\"ui search\" style={{ height: '10%' }}>\n                    <input\n                        className=\"prompt\"\n                        type=\"text\"\n                        placeholder=\"Search...\"\n                        value={search}\n                        style={{ width: '95%' }}\n                        onChange={(e) => {\n                            setSearch(e.target.value);\n                            // console.log(e.target.value);\n                        }}\n                    />\n                </div>\n                <div\n                    style={{\n                        height: '90%',\n                        overflow: 'auto',\n                    }}\n                >\n                    <BreedsList\n                        breedsList={breedsList}\n                        searchKey={search}\n                        setBreed={setBreed}\n                    />\n                </div>\n            </div>\n            <div className=\"twelve wide column\" style={{ height: 'inherit' }}>\n                <div style={{ overflow: 'auto', height: '100%' }}>\n                    <ImageList key={breed} breed={breed} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default BreedsPage;\n","import { useRef, useEffect } from 'react';\n\nexport default function useSafeSet() {\n    const ref = useRef(true);\n\n    useEffect(() => {\n        return () => (ref.current = false);\n    }, []);\n\n    const safeSetRef = useRef((func) => {\n        if (ref.current && func) {\n            func();\n        }\n    });\n\n    return safeSetRef.current;\n}\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport delay from '../../assets/delay';\nimport delayContext from '../../contexts/delayContext';\n\nconst RandomPage = () => {\n    const [imageUrl, setImageUrl] = useState('');\n    const [status, setStatus] = useState('idle'); // idle, ready, loading\n\n    const { delayState } = useContext(delayContext);\n    const randomUrl = 'https://dog.ceo/api/breeds/image/random';\n\n    useEffect(() => {\n        const initGetImage = async () => {\n            if (status !== 'idle') return;\n            try {\n                setStatus('loading');\n                if (delayState) await delay(3000);\n                const response = await fetch(randomUrl);\n                const { message: image } = await response.json();\n                setImageUrl(image);\n                setStatus('ready');\n            } catch (error) {\n                alert(error);\n            }\n        };\n\n        initGetImage();\n    }, []);\n\n    const onGetImage = async () => {\n        if (status === 'loading') {\n            // console.log('is loading');\n            return;\n        }\n        setImageUrl('');\n        try {\n            setStatus('loading');\n            if (delayState) await delay(3000);\n            const response = await fetch(randomUrl);\n            const { message: image } = await response.json();\n            setImageUrl(image);\n            setStatus('ready');\n        } catch (err) {\n            alert(err);\n        }\n    };\n\n    return (\n        <div>\n            <h1 className=\"ui header\">Get Random Image</h1>\n            <button className=\"ui orange button\" onClick={onGetImage}>\n                Get Image\n            </button>\n            <ImageCard imageUrl={imageUrl} />\n        </div>\n    );\n};\n\nconst ImageCard = ({ imageUrl }) => {\n    const renderPlaceholder = () => {\n        return (\n            <div className=\"ui placeholder\" style={{ margin: '0 auto' }}>\n                <div className=\"rectangular image\"></div>\n            </div>\n        );\n    };\n\n    const renderImage = () => {\n        return (\n            <div>\n                <img\n                    className=\"ui medium centered rounded image\"\n                    src={imageUrl}\n                    alt={imageUrl}\n                />\n            </div>\n        );\n    };\n\n    return imageUrl === '' ? renderPlaceholder() : renderImage();\n};\n\nexport default RandomPage;\n","import React from 'react';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\n\nimport Header from './Header';\nimport BreedsPage from './pages/BreedsPage';\nimport RandomPage from './pages/RandomPage';\n\nconst App = () => {\n    return (\n        <div className=\"ui container\">\n            <BrowserRouter>\n                <div>\n                    <div className=\"header\" style={{ height: '10vh' }}>\n                        <Header />\n                    </div>\n                    <div className=\"content\" style={{ height: '90vh' }}>\n                        <Redirect path=\"/dog-api\" to=\"/dog-api/list\"/>\n                        <Route path=\"/dog-api/list\" exact component={BreedsPage} />\n                        <Route path=\"/dog-api/random\" exact component={RandomPage} />\n                    </div>\n                </div>\n            </BrowserRouter>\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport delayContext, {\n    INITIAL_DELAY_STATE,\n} from './components/contexts/delayContext';\n\nconst DelayProvider = delayContext.Provider;\n\nconst DogApi = () => {\n    const [delayState, setDelayState] = React.useState(INITIAL_DELAY_STATE);\n    return (\n        <DelayProvider value={{ delayState, setDelayState }}>\n            <App />\n        </DelayProvider>\n    );\n};\n\nReactDOM.render(<DogApi />, document.getElementById('root'));\n"],"sourceRoot":""}