(this["webpackJsonpdog-api"]=this["webpackJsonpdog-api"]||[]).push([[0],{147:function(e,t,a){e.exports=a(328)},328:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(0),r=a.n(c),i=a(35),l=a.n(i),s=a(29),u=a(4),o=r.a.createContext({isDelay:!1}),m=function(){var e=r.a.useContext(o),t=e.isDelay,a=e.dispatch;return r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement(s.b,{to:"/",className:"item"},"Dog Api"),r.a.createElement("button",{className:!0===t?"ui button red":"ui button green",onClick:function(){a({type:"SWITCH_DELAY"})}},!0===t?"Normal":"Delay"),r.a.createElement("div",{className:"right menu"},r.a.createElement(s.b,{to:"/",className:"item"},"Breeds list"),r.a.createElement(s.b,{to:"/random",className:"item"},"Random image")))},d=a(16),f=a.n(d),v=a(28),b=a(50),E=a(30),h=a(126),g=a.n(h),p=a(333),y=a(332),j=function(e){var t=e.breed,a=e.setBreed,i=e.subBreedsList,l=Object(c.useState)(null),s=Object(n.a)(l,2),u=s[0],o=s[1];return Object(c.useEffect)((function(){u&&a("".concat(t,"/").concat(u))}),[u,a,t]),i.map((function(e,t){return r.a.createElement("div",{key:t,style:{padding:"3px 0",marginLeft:"8%",cursor:"pointer"},onClick:function(){return o(e)}},r.a.createElement("i",{className:"ui icon caret right"}),e)}))},O=function(e){var t=e.breedsList,a=e.searchKey,i=e.setBreed,l=Object(c.useState)(t),s=Object(n.a)(l,2),u=s[0],o=s[1],m=Object(c.useState)(null),d=Object(n.a)(m,2),f=d[0],v=d[1],h=Object(c.useState)(),O=Object(n.a)(h,2),N=O[0],x=O[1];Object(c.useEffect)((function(){var e=Object.keys(t).filter((function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1})).reduce((function(e,a){return Object(E.a)(Object(E.a)({},e),{},Object(b.a)({},a,t[a]))}),{});o(e)}),[a,t]),Object(c.useEffect)((function(){f&&i("".concat(f))}),[f,i]);return g.a.isEmpty(u)?r.a.createElement("div",{className:"ui placeholder"},r.a.createElement("div",{className:"very long line"}),r.a.createElement("div",{className:"very long line"}),r.a.createElement("div",{className:"very long line"}),r.a.createElement("div",{className:"very long line"}),r.a.createElement("div",{className:"very long line"}),r.a.createElement("div",{className:"very long line"}),r.a.createElement("div",{className:"very long line"}),r.a.createElement("div",{className:"very long line"}),r.a.createElement("div",{className:"very long line"}),r.a.createElement("div",{className:"very long line"})):r.a.createElement(y.a,null,Object.keys(u).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(y.a.Title,{active:N===t,index:t,onClick:function(t,a){v(e),function(e){var t=e.index;x(N===t?-1:t)}(a)},style:{padding:"3px 0"}},function(e,t){return r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:function(e){return e?{}:{visibility:"hidden"}}(t)},r.a.createElement(p.a,{name:"dropdown"})),r.a.createElement("div",null,e))}(e,u[e].length>0)),r.a.createElement(y.a.Content,{active:N===t,style:{padding:"0px"}},r.a.createElement(j,{breed:e,subBreedsList:u[e],setBreed:i})))})))},N=a(136),x=a.n(N);function k(e){return new Promise((function(t){setTimeout(t,e)}))}var w=function(e){var t=e.breed,a=Object(c.useState)([]),i=Object(n.a)(a,2),l=i[0],s=i[1],u=Object(c.useState)(!0),m=Object(n.a)(u,2),d=m[0],b=m[1],E=Object(c.useRef)(!0),h=Object(c.useContext)(o).isDelay;Object(c.useEffect)((function(){return function(){E.current=!1}}),[]),Object(c.useEffect)((function(){var e="",a=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=3;break}return e.next=3,k(3e3);case 3:return e.prev=3,e.next=6,fetch(t,{});case 6:return e.next=8,e.sent.json();case 8:a=e.sent,n=a.message,(Array.isArray(n)?n:[n]).map((function(e){g(e)})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();switch(t){case"":break;case"RANDOM":e="https://dog.ceo/api/breeds/image/random";break;default:e="https://dog.ceo/api/breed/".concat(t,"/images")}a(e)}),[t,h]);var g=function(e){var t=new Image;t.addEventListener("load",(function(){E.current&&s((function(a){return a.concat({src:e,thumbnail:e,thumbnailWidth:t.naturalWidth,thumbnailHeight:t.naturalHeight})}))})),t.src=e},p=function(){!0===E.current&&(E.current=!1,b(!1))};return 0===l.length?r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"four column row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui placeholder"},r.a.createElement("div",{className:" square image"}))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui placeholder"},r.a.createElement("div",{className:" square image"}))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui placeholder"},r.a.createElement("div",{className:" square image"}))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui placeholder"},r.a.createElement("div",{className:" square image"}))))):r.a.createElement("div",{className:"gallery"},r.a.createElement(x.a,{images:l,enableLightbox:!1,enableImageSelection:!1,margin:4}),r.a.createElement("button",{className:"circular ui icon red huge button",style:!0===d?{position:"absolute",bottom:"30px",right:"30px"}:{display:"none"},onClick:p},r.a.createElement("i",{className:"icon stop"})))},C=a(51),D=a.n(C),S=D.a.create({baseURL:"https://dog.ceo/api/breeds/"});D.a.create({baseURL:"https://dog.ceo/api/breed/"}),D.a.create({baseURL:"https://dog.ceo/api/breeds/image/random"});function L(){var e=Object(c.useRef)(!0);return Object(c.useEffect)((function(){return function(){return e.current=!1}}),[]),Object(c.useRef)((function(t){e.current&&t&&t()})).current}var R=function(){var e=Object(c.useState)(""),t=Object(n.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(""),s=Object(n.a)(l,2),u=s[0],m=s[1],d=Object(c.useState)({}),b=Object(n.a)(d,2),E=b[0],h=b[1],g=L(),p=Object(c.useContext)(o).isDelay;return Object(c.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,k(3e3);case 3:return e.next=5,S.get("/list/all");case 5:t=e.sent,g((function(){h(t.data.message),m("RANDOM")}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){h({}),m("")}}),[p,g]),r.a.createElement("div",{className:"ui equal height grid",style:{height:"inherit"}},r.a.createElement("div",{className:"four wide column",style:{height:"inherit"}},r.a.createElement("div",{className:"ui search",style:{height:"10%"}},r.a.createElement("input",{className:"prompt",type:"text",placeholder:"Search...",value:a,style:{width:"95%"},onChange:function(e){i(e.target.value)}})),r.a.createElement("div",{style:{height:"90%",overflow:"auto"}},r.a.createElement(O,{breedsList:E,searchKey:a,setBreed:m}))),r.a.createElement("div",{className:"twelve wide column",style:{height:"inherit"}},r.a.createElement("div",{style:{overflow:"auto",height:"100%"}},r.a.createElement(w,{key:u,breed:u}))))},B=function(e){var t=e.imageUrl,a=Object(c.useState)(null),i=Object(n.a)(a,2),l=i[0],s=i[1],u=Object(c.useRef)(!0);return Object(c.useEffect)((function(){return u.current&&s(t),function(){u.current=!1}}),[t]),r.a.createElement("div",null,r.a.createElement("img",{className:"ui medium centered rounded image",src:l,alt:l}))},A=function(){var e=Object(c.useState)(""),t=Object(n.a)(e,2),a=t[0],i=t[1],l=Object(c.useContext)(o).isDelay,s=L(),u="https://dog.ceo/api/breeds/image/random";Object(c.useEffect)((function(){fetch(u,{}).then((function(e){return e.json()})).then((function(e){s((function(){return i(e.message)}))})).catch((function(e){return alert(e)}))}),[s]);var m=function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s((function(){return i("")})),!l){e.next=5;break}return e.next=5,k(3e3);case 5:return e.next=7,fetch(u,{});case 7:return e.next=9,e.sent.json();case 9:t=e.sent,a=t.message,s((function(){return i(a)})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",{className:"ui header"},"Get Random Image"),r.a.createElement("button",{className:"ui orange button",onClick:m},"Get Image"),""===a?r.a.createElement("div",{className:"ui placeholder",style:{margin:"0 auto"}},r.a.createElement("div",{className:"rectangular image"})):r.a.createElement(B,{imageUrl:a}))},I=function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"header",style:{height:"10vh"}},r.a.createElement(m,null)),r.a.createElement("div",{className:"content",style:{height:"90vh"}},r.a.createElement(u.a,{path:"/",exact:!0,component:R}),r.a.createElement(u.a,{path:"/random",exact:!0,component:A})))))},q={isDelay:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SWITCH_DELAY":return Object(E.a)(Object(E.a)({},e),{},{isDelay:!e.isDelay});default:return e}},H=function(){var e=r.a.useReducer(U,q),t=Object(n.a)(e,2),a=t[0],c=t[1];return r.a.createElement(o.Provider,{value:{isDelay:a.isDelay,dispatch:c}},r.a.createElement(I,null))};l.a.render(r.a.createElement(H,null),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.900f6e29.chunk.js.map